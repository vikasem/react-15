"use strict";(self.webpackChunkmy_react_1=self.webpackChunkmy_react_1||[]).push([[861],{4861:function(e,s,t){t.r(s),t.d(s,{default:function(){return O}});var n=t(8683),o=t(2791),i=t(8687),r="MyPosts_changeBlock__6ZmFa",a="MyPosts_post__GRzoV",l="Post_item__eYi-7",c=t(184),u=function(e){return(0,c.jsxs)("div",{className:l,children:[(0,c.jsx)("img",{src:"https://i.pinimg.com/originals/e7/88/04/e78804c9bd6a4647ae626745f2f88b48.jpg"}),e.message,(0,c.jsx)("div",{children:(0,c.jsxs)("span",{children:["like ",e.count]})})]})},d=t(6139),f=t(704),j=t(95),p=t(3962),h=(0,j.D)(10),x=(0,f.Z)({form:"NewMyPost"})((function(e){return(0,c.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,c.jsx)("div",{children:(0,c.jsx)(d.Z,{component:p.g,name:"newPostText",validate:[j.C,h]})}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{children:"Add post"})})]})})),m=function(e){var s=e.posts.map((function(e){return(0,c.jsx)(u,{message:e.message,count:e.count})}));return(0,c.jsxs)("div",{className:r,children:[(0,c.jsx)("h3",{children:"My posts"}),(0,c.jsx)(x,{onSubmit:function(s){e.addPost(s.newPostText),s.newPostText=""}}),(0,c.jsx)("div",{className:a,children:s})]})},v=t(6407),b=(0,i.$j)((function(e){return{posts:e.profilePage.postData,newPostText:e.profilePage.newPostText}}),{addPost:v.q2})(m),g=t(885),P=t(9595),k="ProfileInfo_discriptionBlock__UFW7v",S="ProfileInfo_noAvatar__VGWQJ",_="ProfileInfo_contacts__-T3Uo",w=function(e){var s=(0,o.useState)(!1),t=(0,g.Z)(s,2),n=t[0],i=t[1],r=(0,o.useState)(e.status),a=(0,g.Z)(r,2),l=a[0],u=a[1];(0,o.useEffect)((function(){u(e.status)}),[e.status]);return(0,c.jsxs)("div",{children:[!n&&(0,c.jsx)("div",{children:(0,c.jsx)("span",{onDoubleClick:function(){i(!0)},children:l||"No status"})}),n&&(0,c.jsx)("div",{children:(0,c.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},onBlur:function(){i(!1),e.updateStatus(l)},value:l,autoFocus:!0})})]})},Z=t(8952),y=t(2478),I=(0,f.Z)({form:"edit-profile"})((function(e){return(0,c.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&(0,c.jsx)("div",{className:y.Z.formSummaryError,children:e.error}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{children:"Save"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"Full name"}),": ",(0,c.jsx)(d.Z,{placeholder:"Full name",name:"fullName",component:p.I})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"Looking for a job"}),": ",(0,c.jsx)(d.Z,{name:"lookingForAJob",component:p.I,type:"checkbox"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"My professional skills"}),": ",(0,c.jsx)(d.Z,{placeholder:"Skills",name:"lookingForAJobDescription",component:p.g})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"About Me"}),": ",(0,c.jsx)(d.Z,{placeholder:"About Me",name:"aboutMe",component:p.g})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.profile.contacts).map((function(e){return(0,c.jsx)("div",{className:_,children:(0,c.jsxs)("b",{children:[" ",e,": ",(0,c.jsx)(d.Z,{placeholder:e,name:"contacts."+e,component:p.I})]})})}))]})]})})),M=function(e){return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:e.isOwner&&(0,c.jsx)("button",{onClick:e.goToEditMode,children:"Edit"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"Full name"}),": ",e.profile.fullName]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"Looking for a job"}),": ",e.profile.lookingForAJob?"yes":"no"]}),e.profile.lookingForAJob&&(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"My professional skills"}),": ",e.profile.lookingForAJobDescription]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"About Me"}),": ",e.profile.aboutMe]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.profile.contacts).map((function(s){return(0,c.jsx)(N,{contactTitle:s,contactValue:e.profile.contacts[s]},s)}))]})]})},N=function(e){return(0,c.jsxs)("div",{className:_,children:[(0,c.jsx)("b",{children:e.contactTitle}),": ",e.contactValue]})},T=function(e){var s=(0,o.useState)(!1),t=(0,g.Z)(s,2),n=t[0],i=t[1];if(!e.profile)return(0,c.jsx)(P.Z,{});return(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:k,children:[(0,c.jsx)("img",{src:e.profile.photos.large||Z,className:S}),(0,c.jsx)(w,{status:e.status,updateStatus:e.updateStatus}),(0,c.jsx)("div",{children:e.isOwner&&(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"Add a photo"}),": ",(0,c.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&e.savePhoto(s.target.files[0])}})]})}),n?(0,c.jsx)(I,{initialValues:e.profile,profile:e.profile,onSubmit:function(s){console.log(s),e.saveProfile(s).then((function(){i(!1)}))}}):(0,c.jsx)(M,{profile:e.profile,goToEditMode:function(){i(!0)},isOwner:e.isOwner})]})})},A=function(e){return(0,c.jsxs)("div",{children:[(0,c.jsx)(T,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),(0,c.jsx)(b,{})]})},F=t(6871),C=t(4147),O=(0,t(7781).qC)((0,i.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,userId:e.auth.userId}}),{profileUser:v.Yw,getStatus:v.lR,updateStatus:v.Nf,savePhoto:v.Ju,saveProfile:v.Ii}),C.D)((function(e){var s={location:(0,F.TH)(),navigate:(0,F.s0)(),params:(0,F.UO)()};return(0,o.useEffect)((function(){var t=s.params.userId;t||(t=e.userId),e.profileUser(t),e.getStatus(t)}),[s.params.userId]),(0,c.jsx)(A,(0,n.Z)((0,n.Z)({},e),{},{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:!s.params.userId,savePhoto:e.savePhoto,saveProfile:e.saveProfile}))}))}}]);
//# sourceMappingURL=861.5f92eba2.chunk.js.map